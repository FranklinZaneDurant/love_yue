# 服务器配置
server.port=8081
server.servlet.context-path=/auth

# Spring应用配置
spring.application.name=love-yue-auth
spring.profiles.active=dev

# 数据库配置
spring.datasource.driver-class-name=org.postgresql.Driver
spring.datasource.url=jdbc:postgresql://localhost:5432/loveyue_auth?useUnicode=true&characterEncoding=utf8&serverTimezone=Asia/Shanghai
spring.datasource.username=loveyue
spring.datasource.password=loveyue123
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.auto-commit=true
spring.datasource.hikari.idle-timeout=30000
spring.datasource.hikari.pool-name=AuthHikariCP
spring.datasource.hikari.max-lifetime=1800000
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.connection-test-query=SELECT 1

# JPA配置
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.use_sql_comments=true
spring.jpa.properties.hibernate.jdbc.batch_size=20
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
spring.jpa.open-in-view=false

# Redis配置
spring.data.redis.host=localhost
spring.data.redis.port=6379
spring.data.redis.password=
spring.data.redis.database=1
spring.data.redis.timeout=3000ms
spring.data.redis.lettuce.pool.max-active=8
spring.data.redis.lettuce.pool.max-wait=-1ms
spring.data.redis.lettuce.pool.max-idle=8
spring.data.redis.lettuce.pool.min-idle=0

# 服务发现配置
eureka.client.service-url.defaultZone=http://localhost:8000/eureka/
eureka.instance.prefer-ip-address=true
eureka.instance.instance-id=${spring.application.name}:${server.port}

# 认证配置
auth.jwt.secret=loveyue-auth-jwt-secret-key-2025-very-long-and-secure
auth.jwt.access-token-expire-minutes=120
auth.jwt.refresh-token-expire-days=7
auth.jwt.temp-token-expire-minutes=30
auth.jwt.issuer=loveyue-auth
auth.jwt.audience=loveyue-app
auth.jwt.enabled=true

auth.login.max-attempts=5
auth.login.lock-duration-minutes=30
auth.login.allow-multiple-devices=true
auth.login.single-sign-on-check=false
auth.login.log-enabled=true
auth.login.captcha-enabled=false
auth.login.captcha-threshold=3

auth.token.max-active-tokens-per-userEntity=5
auth.token.cleanup-interval-hours=24
auth.token.auto-cleanup=true
auth.token.usage-update-threshold-minutes=5
auth.token.unused-token-threshold-days=30

auth.password.expire-days=90
auth.password.expire-warning-days=7
auth.password.complexity-check-enabled=true
auth.password.min-length=8
auth.password.max-length=32
auth.password.require-digit=true
auth.password.require-lowercase=true
auth.password.require-uppercase=true
auth.password.require-special-char=true
auth.password.reset-token-expire-minutes=30

auth.security.ip-whitelist-enabled=false
auth.security.ip-whitelist=
auth.security.device-fingerprint-enabled=false
auth.security.suspicious-login-detection=true
auth.security.remote-location-detection=true
auth.security.unusual-time-detection=false
auth.security.two-factor-auth-enabled=false
auth.security.session-timeout-minutes=480
auth.security.csrf-protection-enabled=true

# 日志配置
logging.level.com.loveyue.auth=DEBUG
logging.level.org.springframework.security=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n
logging.file.name=logs/auth-service.log
logging.file.max-size=100MB
logging.file.max-history=30

# 管理端点配置
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.health.show-details=always
management.prometheus.metrics.export.enabled=true

# Swagger配置
springdoc.api-docs.enabled=true
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.enabled=true
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.operations-sorter=method
springdoc.swagger-ui.tags-sorter=alpha
springdoc.info.title=Love Yue Auth Service API
springdoc.info.description=爱悦认证服务API文档
springdoc.info.version=1.0.0
springdoc.info.contact.name=Love Yue Team
springdoc.info.contact.email=support@loveyue.com

# 异步配置
async.core-pool-size=5
async.max-pool-size=20
async.queue-capacity=100
async.thread-name-prefix=auth-async-
async.keep-alive-seconds=60

# 定时任务配置
scheduling.pool.size=5
scheduling.thread-name-prefix=auth-scheduling-